<!DOCTYPE html>
<html lang="ko" layout:decorate="~{layout/layout}">
<meta charset="UTF-8">

<div layout:fragment="content" class="parent bg-light" style="width: 100%; height: 100vh; display: flex;">
    <div class="left" style="flex: 1; display: flex; flex-direction: column; padding: 5px;">
        <div class="profile" style="border: 3px solid; flex: 3; text-align: center; display: flex; flex-direction: column; margin-bottom: 10px;">
            <div style="flex: 9;">
                <img th:src="${member.fileName}" th:alt="${member.userName}">
            </div>
            <h3 class="content-box-title font-serif" style="float: left;" th:text="${member.userName}"/>
        </div>
        <div class="friend" style="border: 3px solid; flex: 4; padding: 5px;">
            <div th:each="friend : ${friendList}" style="display: inline-block;">
                <div class="content-box-image" style="width: 80px; height: 80px; border-radius: 70%; overflow: hidden; margin: 5px;">
                    <img th:src="${friend.fileName}" th:alt="${friend.userName}">
                    링크 걸기
                </div>
            </div>
        </div>
    </div>
    <div class="middle" style="flex: 2; padding: 5px; text-align: center;">
        <div th:if="${roomJoinList == null}">
            <div style="width:100%; height: 70px; border: 1px dashed; padding: 10px; display: flex;">
                가입된 방이 없습니다.
            </div>
        </div>
        <div th:unless="${roomJoinList == null}" style="display: flex; flex-wrap: wrap;">
            <div th:each="roomJoin : ${roomJoinList}" style="flex-basis: 33.33%; padding: 5px;">
                <a th:href="@{/room/detail/{roomId}(roomId = ${roomJoin.room.roomId})}">
                    <div style="height: 70px; border: 1px dashed; padding: 10px; display: flex;">
                        <div th:text="|${roomJoin.room.roomName} (${roomJoin.activeName})|" style="flex: 1;"></div>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div class="right" style="flex: 1; padding: 5px; ">
        <div th:if="${messageList == null}">
            <div style="width:100%; height: 70px; border: 1px dashed; padding: 10px; display: flex;">
                수신된 메세지가 없습니다.
            </div>
        </div>
        <div th:unless="${messageList == null}">
            <div th:each="message : ${messageList}">
                <a href="#">
                    <div style="width:100%; height: 70px; border: 1px dashed; padding: 10px; display: flex; margin-bottom: 10px;">
                        <div th:text="${message.content}" style="flex: 6; overflow: hidden; text-overflow:ellipsis;"></div>
                        <div style="flex: 1;">
                            <img th:if="${message.receiveChk == false}" th:src="@{/icon/star_icon.gif}">
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>

</div>

</html>